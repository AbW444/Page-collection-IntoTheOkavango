// translations.js - Système de traduction complet Into the Okavango
// National Geographic - Traduction FR/EN

const OKAVANGO_TRANSLATIONS = {
    fr: {
        // Meta données
        pageTitle: "National Geographic | Into the Okavango",
        lang: "fr",
        
        // Hero Section
        hero: {
            title: "INTO THE OKAVANGO",
            subtitle: "Une expédition épique de 4 mois et 2400 kilomètres pour sauver l'une des dernières zones humides sauvages de la planète"
        },
        
        // Navigation
        navigation: {
            home: "Accueil",
            documentary: "Documentaire", 
            expedition: "Expédition",
            gallery: "Galerie",
            science: "Enjeux scientifiques",
            resources: "Documentation",
            credits: "Équipe"
        },
        
        // Section Documentaire
        documentary: {
            title: "PRÉSENTATION DU DOCUMENTAIRE",
            description1: "Le bassin du fleuve Okavango fournit une source d'eau vitale à environ 1 million de personnes, à la plus grande population d'éléphants d'Afrique au monde et à des populations importantes de lions, de guépards et de centaines d'espèces d'oiseaux. Cependant, cette oasis autrefois préservée est maintenant assiégée par la pression croissante de l'activité humaine.",
            description2: "Into the Okavango suit une équipe d'explorateurs modernes lors de leur première expédition épique de quatre mois et 2 400 kilomètres à travers trois pays pour sauver le système fluvial qui alimente le delta de l'Okavango, l'une des dernières zones humides sauvages de notre planète. Un biologiste passionné de la conservation rassemble un bushman de rivière craintif de perdre son passé et une jeune scientifique incertaine de son avenir.",
            button: "Voir le documentaire"
        },
        
        // Section Expédition
        expedition: {
            title: "L'EXPÉDITION OKAVANGO",
            description1: "Steve Boyes, biologiste de la conservation, mène une équipe internationale de scientifiques, photographes, cinéastes et guides africains dans une mission épique pour remonter aux sources des eaux du delta de l'Okavango et déterminer les menaces qui pèsent sur ce système fluvial vital.",
            description2: "L'expédition de quatre mois couvre 2 400 kilomètres à travers des paysages inexplorés et dangereux, de l'Angola au Botswana en passant par la Namibie. L'équipe fait face à des épreuves imprévues, notamment une rencontre terrifiante avec un hippopotame territorial, tout en documentant scientifiquement la biodiversité exceptionnelle de la région.",
            description3: "Cette mission cruciale vise à comprendre pourquoi le delta de l'Okavango rétrécit et à développer des stratégies de conservation durables avec les gouvernements locaux et les communautés pour protéger ce patrimoine naturel irremplaçable avant qu'il ne soit trop tard.",
            imageAlt: "Expédition dans le Delta de l'Okavango"
        },
        
        // Section Galerie
        gallery: {
            title: "GALERIE PHOTO",
            images: [
                {
                    title: "Eaux du Delta de l'Okavango",
                    description: "Les eaux cristallines du delta de l'Okavango, source de vie pour la plus grande population d'éléphants d'Afrique.",
                    alt: "Eaux du Delta de l'Okavango"
                },
                {
                    title: "Reflets au coucher du soleil",
                    description: "Les eaux paisibles du delta reflètent les couleurs dorées du coucher de soleil africain.",
                    alt: "Reflets au coucher du soleil"
                },
                {
                    title: "Oiseaux migrateurs",
                    description: "Les oiseaux survolent les eaux du delta lors de leur migration annuelle à travers l'Afrique australe.",
                    alt: "Oiseaux migrateurs"
                },
                {
                    title: "Éléphants traversant le delta",
                    description: "Un groupe d'éléphants traverse les eaux peu profondes du delta de l'Okavango.",
                    alt: "Éléphants traversant le delta"
                },
                {
                    title: "Expédition scientifique",
                    description: "L'équipe de Steve Boyes lors de l'expédition de recherche dans le delta de l'Okavango.",
                    alt: "Expédition scientifique"
                },
                {
                    title: "Coucher de soleil sur le delta",
                    description: "Le soleil se couche sur les eaux du delta, créant un spectacle naturel magnifique.",
                    alt: "Coucher de soleil sur le delta"
                }
            ]
        },
        
        // Section Science
        science: {
            title: "ENJEUX SCIENTIFIQUES ET ÉCOLOGIQUES",
            introduction: "Le delta de l'Okavango est l'une des plus grandes zones humides d'eau douce d'Afrique australe et abrite plus de 1 000 espèces de plantes, plus de 480 espèces d'oiseaux, 130 espèces de mammifères et de nombreuses espèces de reptiles et de poissons. Cette biodiversité exceptionnelle est menacée par les activités humaines croissantes dans le bassin versant.",
            stats: [
                {
                    number: "2400",
                    title: "Kilomètres parcourus",
                    description: "L'équipe a parcouru 2 400 kilomètres en quatre mois à travers l'Angola, la Namibie et le Botswana pour documenter les menaces pesant sur le système fluvial de l'Okavango."
                },
                {
                    number: "1M",
                    title: "Personnes dépendantes",
                    description: "Environ 1 million de personnes dépendent du bassin du fleuve Okavango pour leur approvisionnement en eau, ainsi que la plus grande population d'éléphants d'Afrique au monde."
                },
                {
                    number: "480+",
                    title: "Espèces d'oiseaux",
                    description: "Le delta de l'Okavango abrite plus de 480 espèces d'oiseaux, 130 espèces de mammifères et plus de 1 000 espèces de plantes dans un écosystème d'une diversité exceptionnelle."
                }
            ],
            images: [
                {
                    caption: "Des éléphants près du camp sur l'Okavango. Ces géants sont essentiels à l'écosystème du delta et représentent la plus grande population d'éléphants d'Afrique.",
                    alt: "Éléphants près du camp Okavango"
                },
                {
                    caption: "Les paysages préservés de l'Okavango révèlent une biodiversité exceptionnelle mais fragile, menacée par les activités humaines croissantes.",
                    alt: "Paysage de l'Okavango"
                }
            ]
        },
        
        // Section Resources
        resources: {
            title: "DOCUMENTATION ET RECHERCHES ASSOCIÉES",
            introduction: "Explorez les publications scientifiques, les rapports de conservation et les initiatives du Projet Okavango Wilderness qui sous-tendent les efforts de protection de ce patrimoine naturel exceptionnel. Ces ressources constituent le fondement de notre documentation.",
            cards: [
                {
                    title: "Rapport sur l'état de l'Okavango",
                    description: "Le dernier rapport scientifique détaillant l'écosystème du delta, les menaces identifiées et les stratégies de conservation développées par le Projet Okavango Wilderness.",
                    link: "Télécharger le rapport"
                },
                {
                    title: "Atlas de la biodiversité",
                    description: "Une cartographie complète de la biodiversité exceptionnelle du bassin de l'Okavango, ses habitats uniques et les zones prioritaires pour la conservation.",
                    link: "Explorer l'atlas"
                },
                {
                    title: "Guide d'identification des espèces",
                    description: "Un guide illustré pour identifier les principales espèces animales et végétales du delta de l'Okavango, y compris les espèces endémiques et menacées.",
                    link: "Consulter le guide"
                },
                {
                    title: "Données de surveillance hydrologique",
                    description: "Données et analyses hydrologiques utilisées pour comprendre les dynamiques des crues annuelles et surveiller la santé du système fluvial.",
                    link: "Accéder aux données"
                },
                {
                    title: "Études sur l'impact humain",
                    description: "Recherches sur l'impact des activités humaines croissantes sur l'écosystème de l'Okavango et les solutions durables pour les communautés locales.",
                    link: "Lire les études"
                },
                {
                    title: "Programme Okavango Éternel",
                    description: "Détails sur le partenariat entre National Geographic Society et De Beers Group pour protéger l'écosystème de l'Okavango et soutenir les communautés locales.",
                    link: "Découvrir le programme"
                }
            ]
        },
        
        // Section Credits
        credits: {
            title: "ÉQUIPE ET COLLABORATIONS",
            introduction: "Découvrez l'équipe exceptionnelle d'explorateurs, scientifiques et cinéastes qui ont rendu possible cette expédition extraordinaire, ainsi que les organisations partenaires qui soutiennent les efforts de préservation du delta de l'Okavango.",
            production: {
                title: "ÉQUIPE DE PRODUCTION",
                members: [
                    { name: "Neil Gelinas", role: "Réalisateur, Directeur de la photographie, Producteur" },
                    { name: "Steve Boyes", role: "Biologiste de la conservation, Leader de l'expédition" },
                    { name: "National Geographic Society", role: "Producteur exécutif" },
                    { name: "Cory Richards", role: "Photographe National Geographic" },
                    { name: "Pete Muller", role: "Photographe documentaire" }
                ]
            },
            scientific: {
                title: "ÉQUIPE SCIENTIFIQUE",
                members: [
                    { name: "Dr. Steve Boyes", role: "Directeur scientifique, Projet Okavango Wilderness" },
                    { name: "Gobe Motsumi", role: "Guide local et expert de la région" },
                    { name: "Adjany Costa", role: "Jeune scientifique et ornithologue" }
                ]
            },
            resources: {
                title: "RESSOURCES COMPLÉMENTAIRES",
                links: [
                    "Site officiel de National Geographic",
                    "Projet Okavango Wilderness",
                    "Programme Okavango Éternel",
                    "National Geographic Documentary Films",
                    "Faire un don pour la conservation",
                    "Matériel éducatif",
                    "Regarder sur Disney+",
                    "Presse et médias"
                ]
            }
        },
        
        // Footer
        footer: {
            copyright: "© 2025 National Geographic Partners, LLC. Tous droits réservés."
        },
        
        // Boutons et interactions
        buttons: {
            returnExploration: "Retour à l'exploration",
            watchDocumentary: "Voir le documentaire",
            backToTop: "Retour en haut",
            share: "Partager",
            previousImage: "Image précédente",
            nextImage: "Image suivante",
            playVideo: "Lire la vidéo"
        },
        
        // Messages d'accessibilité
        accessibility: {
            menuNavigation: "Menu de navigation",
            mondosImmerges: "Mondes Immergés Logo",
            nationalGeographic: "National Geographic Logo"
        }
    },
    
    en: {
        // Meta données
        pageTitle: "National Geographic | Into the Okavango",
        lang: "en",
        
        // Hero Section
        hero: {
            title: "INTO THE OKAVANGO",
            subtitle: "An epic 4-month, 2400-kilometer expedition to save one of the planet's last wild wetlands"
        },
        
        // Navigation
        navigation: {
            home: "Home",
            documentary: "Documentary",
            expedition: "Expedition", 
            gallery: "Gallery",
            science: "Scientific Issues",
            resources: "Documentation",
            credits: "Team"
        },
        
        // Section Documentaire
        documentary: {
            title: "DOCUMENTARY PRESENTATION",
            description1: "The Okavango River basin provides a vital water source to about 1 million people, the world's largest population of African elephants, and significant populations of lions, cheetahs, and hundreds of bird species. However, this once-pristine oasis is now under siege from increasing pressure from human activity.",
            description2: "Into the Okavango follows a team of modern explorers on their first epic four-month, 2,400-kilometer expedition across three countries to save the river system that feeds the Okavango Delta, one of our planet's last wild wetlands. A passionate conservation biologist brings together a river bushman fearful of losing his past and a young scientist uncertain of her future.",
            button: "Watch the documentary"
        },
        
        // Section Expédition
        expedition: {
            title: "THE OKAVANGO EXPEDITION",
            description1: "Steve Boyes, conservation biologist, leads an international team of scientists, photographers, filmmakers and African guides on an epic mission to trace the sources of the Okavango Delta waters and determine the threats facing this vital river system.",
            description2: "The four-month expedition covers 2,400 kilometers through unexplored and dangerous landscapes, from Angola to Botswana via Namibia. The team faces unexpected trials, including a terrifying encounter with a territorial hippopotamus, while scientifically documenting the region's exceptional biodiversity.",
            description3: "This crucial mission aims to understand why the Okavango Delta is shrinking and to develop sustainable conservation strategies with local governments and communities to protect this irreplaceable natural heritage before it's too late.",
            imageAlt: "Expedition in the Okavango Delta"
        },
        
        // Section Galerie
        gallery: {
            title: "PHOTO GALLERY",
            images: [
                {
                    title: "Waters of the Okavango Delta",
                    description: "The crystal-clear waters of the Okavango Delta, source of life for Africa's largest elephant population.",
                    alt: "Waters of the Okavango Delta"
                },
                {
                    title: "Sunset reflections",
                    description: "The peaceful waters of the delta reflect the golden colors of the African sunset.",
                    alt: "Sunset reflections"
                },
                {
                    title: "Migratory birds",
                    description: "Birds fly over the delta waters during their annual migration across southern Africa.",
                    alt: "Migratory birds"
                },
                {
                    title: "Elephants crossing the delta",
                    description: "A group of elephants crosses the shallow waters of the Okavango Delta.",
                    alt: "Elephants crossing the delta"
                },
                {
                    title: "Scientific expedition",
                    description: "Steve Boyes' team during the research expedition in the Okavango Delta.",
                    alt: "Scientific expedition"
                },
                {
                    title: "Sunset over the delta",
                    description: "The sun sets over the delta waters, creating a magnificent natural spectacle.",
                    alt: "Sunset over the delta"
                }
            ]
        },
        
        // Section Science
        science: {
            title: "SCIENTIFIC AND ECOLOGICAL CHALLENGES",
            introduction: "The Okavango Delta is one of southern Africa's largest freshwater wetlands and is home to more than 1,000 plant species, more than 480 bird species, 130 mammal species and numerous reptile and fish species. This exceptional biodiversity is threatened by increasing human activities in the watershed.",
            stats: [
                {
                    number: "2400",
                    title: "Kilometers traveled",
                    description: "The team traveled 2,400 kilometers in four months across Angola, Namibia and Botswana to document threats to the Okavango river system."
                },
                {
                    number: "1M",
                    title: "People dependent",
                    description: "About 1 million people depend on the Okavango River basin for their water supply, as well as the world's largest population of African elephants."
                },
                {
                    number: "480+",
                    title: "Bird species",
                    description: "The Okavango Delta is home to more than 480 bird species, 130 mammal species and more than 1,000 plant species in an ecosystem of exceptional diversity."
                }
            ],
            images: [
                {
                    caption: "Elephants near the camp on the Okavango. These giants are essential to the delta ecosystem and represent Africa's largest elephant population.",
                    alt: "Elephants near Okavango camp"
                },
                {
                    caption: "The pristine landscapes of the Okavango reveal exceptional but fragile biodiversity, threatened by increasing human activities.",
                    alt: "Okavango landscape"
                }
            ]
        },
        
        // Section Resources
        resources: {
            title: "DOCUMENTATION AND ASSOCIATED RESEARCH",
            introduction: "Explore the scientific publications, conservation reports and initiatives of the Okavango Wilderness Project that underpin efforts to protect this exceptional natural heritage. These resources form the foundation of our documentation.",
            cards: [
                {
                    title: "Okavango State Report",
                    description: "The latest scientific report detailing the delta ecosystem, identified threats and conservation strategies developed by the Okavango Wilderness Project.",
                    link: "Download the report"
                },
                {
                    title: "Biodiversity Atlas",
                    description: "A comprehensive mapping of the exceptional biodiversity of the Okavango basin, its unique habitats and priority areas for conservation.",
                    link: "Explore the atlas"
                },
                {
                    title: "Species Identification Guide",
                    description: "An illustrated guide to identify the main animal and plant species of the Okavango Delta, including endemic and threatened species.",
                    link: "View the guide"
                },
                {
                    title: "Hydrological Monitoring Data",
                    description: "Hydrological data and analyses used to understand annual flood dynamics and monitor the health of the river system.",
                    link: "Access the data"
                },
                {
                    title: "Human Impact Studies",
                    description: "Research on the impact of increasing human activities on the Okavango ecosystem and sustainable solutions for local communities.",
                    link: "Read the studies"
                },
                {
                    title: "Eternal Okavango Program",
                    description: "Details on the partnership between National Geographic Society and De Beers Group to protect the Okavango ecosystem and support local communities.",
                    link: "Discover the program"
                }
            ]
        },
        
        // Section Credits
        credits: {
            title: "TEAM AND COLLABORATIONS",
            introduction: "Discover the exceptional team of explorers, scientists and filmmakers who made this extraordinary expedition possible, as well as the partner organizations supporting Okavango Delta preservation efforts.",
            production: {
                title: "PRODUCTION TEAM",
                members: [
                    { name: "Neil Gelinas", role: "Director, Director of Photography, Producer" },
                    { name: "Steve Boyes", role: "Conservation Biologist, Expedition Leader" },
                    { name: "National Geographic Society", role: "Executive Producer" },
                    { name: "Cory Richards", role: "National Geographic Photographer" },
                    { name: "Pete Muller", role: "Documentary Photographer" }
                ]
            },
            scientific: {
                title: "SCIENTIFIC TEAM",
                members: [
                    { name: "Dr. Steve Boyes", role: "Scientific Director, Okavango Wilderness Project" },
                    { name: "Gobe Motsumi", role: "Local Guide and Regional Expert" },
                    { name: "Adjany Costa", role: "Young Scientist and Ornithologist" }
                ]
            },
            resources: {
                title: "ADDITIONAL RESOURCES",
                links: [
                    "Official National Geographic Website",
                    "Okavango Wilderness Project",
                    "Eternal Okavango Program",
                    "National Geographic Documentary Films",
                    "Donate for Conservation",
                    "Educational Materials",
                    "Watch on Disney+",
                    "Press and Media"
                ]
            }
        },
        
        // Footer
        footer: {
            copyright: "© 2025 National Geographic Partners, LLC. All rights reserved."
        },
        
        // Boutons et interactions
        buttons: {
            returnExploration: "Back to exploration",
            watchDocumentary: "Watch the documentary",
            backToTop: "Back to top",
            share: "Share",
            previousImage: "Previous image",
            nextImage: "Next image",
            playVideo: "Play video"
        },
        
        // Messages d'accessibilité
        accessibility: {
            menuNavigation: "Navigation menu",
            mondosImmerges: "Mondes Immergés Logo",
            nationalGeographic: "National Geographic Logo"
        }
    }
};

// Classe principale pour gérer la traduction
class OkavangoTranslator {
    constructor() {
        this.currentLang = 'fr';
        this.translations = OKAVANGO_TRANSLATIONS;
        this.translateButton = null;
        this.translateText = null;
        
        // Éléments à traduire avec leurs sélecteurs
        this.translationMap = {
            // Meta
            'title': () => document.title = this.get('pageTitle'),
            'html[lang]': () => document.documentElement.setAttribute('lang', this.get('lang')),
            
            // Hero
            '.title': () => this.updateText('.title', this.get('hero.title')),
            '.subtitle': () => this.updateText('.subtitle', this.get('hero.subtitle')),
            
            // Navigation
            '.nav-link': () => this.updateNavigation(),
            
            // Sections principales
            '.section-title': () => this.updateSectionTitles(),
            
            // Section documentaire
            '.documentary-presentation .description': () => this.updateDocumentaryDescriptions(),
            '.doc-button': () => this.updateText('.doc-button', this.get('documentary.button')),
            
            // Section expédition
            '.expedition-text .description': () => this.updateExpeditionDescriptions(),
            '.expedition-image img': () => this.updateAttribute('.expedition-image img', 'alt', this.get('expedition.imageAlt')),
            
            // Galerie
            '.gallery-slide': () => this.updateGallery(),
            
            // Science
            '.scientific-intro .description': () => this.updateText('.scientific-intro .description', this.get('science.introduction')),
            '.stat-card': () => this.updateStats(),
            '.image-caption': () => this.updateImageCaptions(),
            
            // Resources
            '.resources-intro .description': () => this.updateText('.resources-intro .description', this.get('resources.introduction')),
            '.resource-card': () => this.updateResourceCards(),
            
            // Credits
            '.credits-intro .description': () => this.updateText('.credits-intro .description', this.get('credits.introduction')),
            '.credits-col': () => this.updateCredits(),
            
            // Footer
            '.copyright': () => this.updateText('.copyright', this.get('footer.copyright')),
            
            // Boutons et accessibilité
            '.return-text': () => this.updateText('.return-text', this.get('buttons.returnExploration')),
            '.mobile-menu-toggle': () => this.updateAttribute('.mobile-menu-toggle', 'aria-label', this.get('accessibility.menuNavigation')),
            '.mi-logo': () => this.updateAttribute('.mi-logo', 'alt', this.get('accessibility.mondosImmerges')),
            '.natgeo-footer-logo img': () => this.updateAttribute('.natgeo-footer-logo img', 'alt', this.get('accessibility.nationalGeographic')),
            '.gallery-prev': () => this.updateAttribute('.gallery-prev', 'aria-label', this.get('buttons.previousImage')),
            '.gallery-next': () => this.updateAttribute('.gallery-next', 'aria-label', this.get('buttons.nextImage')),
            '.video-play-button': () => this.updateAttribute('.video-play-button', 'aria-label', this.get('buttons.playVideo'))
        };
        
        this.init();
    }
    
    init() {
        console.log('=== INITIALISATION TRADUCTEUR OKAVANGO ===');
        
        // Récupérer les éléments du DOM
        this.translateButton = document.querySelector('.translate-button');
        this.translateText = document.querySelector('.translate-current');
        
        if (!this.translateButton || !this.translateText) {
            console.error('Éléments de traduction non trouvés');
            return;
        }
        
        // Charger la langue sauvegardée
        this.loadSavedLanguage();
        
        // Configurer la visibilité du bouton
        this.setupButtonVisibility();
        
        // Configurer les événements
        this.setupEvents();
        
        console.log('Traducteur Okavango initialisé avec langue:', this.currentLang);
    }
    
    loadSavedLanguage() {
        try {
            const savedLang = localStorage.getItem('okavango-language');
            if (savedLang && (savedLang === 'fr' || savedLang === 'en')) {
                this.currentLang = savedLang;
                this.updateButtonDisplay();
                
                // Traduire immédiatement si ce n'est pas le français par défaut
                if (this.currentLang === 'en') {
                    setTimeout(() => this.translatePage(this.currentLang), 100);
                }
            }
        } catch (error) {
            console.log('Impossible de charger la langue sauvegardée:', error);
        }
    }
    
    setupButtonVisibility() {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 500) {
                this.translateButton.classList.add('visible');
            } else {
                this.translateButton.classList.remove('visible');
            }
        });
    }
    
    setupEvents() {
        this.translateButton.addEventListener('click', (e) => {
            e.preventDefault();
            this.toggleLanguage();
        });
    }
    
    toggleLanguage() {
        // Animation de changement
        this.translateButton.classList.add('changing');
        
        setTimeout(() => {
            // Changer la langue
            const newLang = this.currentLang === 'fr' ? 'en' : 'fr';
            this.translatePage(newLang);
            
            this.translateButton.classList.remove('changing');
        }, 300);
    }
    
    translatePage(lang) {
        console.log(`>>> TRADUCTION VERS ${lang.toUpperCase()} <<<`);
        
        this.currentLang = lang;
        
        // Sauvegarder la langue
        try {
            localStorage.setItem('okavango-language', lang);
        } catch (error) {
            console.log('Impossible de sauvegarder la langue:', error);
        }
        
        // Mettre à jour l'affichage du bouton
        this.updateButtonDisplay();
        
        // Appliquer toutes les traductions
        Object.entries(this.translationMap).forEach(([selector, updateFunction]) => {
            try {
                updateFunction();
            } catch (error) {
                console.log(`Erreur traduction ${selector}:`, error);
            }
        });
        
        console.log(`Page traduite en ${lang.toUpperCase()}`);
    }
    
    updateButtonDisplay() {
    // Afficher la langue OPPOSÉE (comme dans votre fichier de référence)
    const nextLang = this.currentLang === 'fr' ? 'en' : 'fr';
    this.translateText.textContent = nextLang.toUpperCase();
}
    
    // Méthodes utilitaires
    get(path) {
        const keys = path.split('.');
        let value = this.translations[this.currentLang];
        
        for (const key of keys) {
            if (value && typeof value === 'object' && key in value) {
                value = value[key];
            } else {
                console.warn(`Traduction manquante: ${path} pour ${this.currentLang}`);
                return path;
            }
        }
        
        return value;
    }
    
    updateText(selector, text) {
        const elements = document.querySelectorAll(selector);
        elements.forEach(el => {
            if (el) el.textContent = text;
        });
    }
    
    updateAttribute(selector, attribute, value) {
        const elements = document.querySelectorAll(selector);
        elements.forEach(el => {
            if (el) el.setAttribute(attribute, value);
        });
    }
    
    updateNavigation() {
        const navLinks = document.querySelectorAll('.nav-link');
        const navKeys = ['home', 'documentary', 'expedition', 'gallery', 'science', 'resources', 'credits'];
        
        navLinks.forEach((link, index) => {
            if (navKeys[index]) {
                link.textContent = this.get(`navigation.${navKeys[index]}`);
            }
        });
    }
    
    updateSectionTitles() {
        const titles = document.querySelectorAll('.section-title');
        const titleKeys = [
            'documentary.title',
            'expedition.title', 
            'gallery.title',
            'science.title',
            'resources.title',
            'credits.title'
        ];
        
        titles.forEach((title, index) => {
            if (titleKeys[index]) {
                title.textContent = this.get(titleKeys[index]);
            }
        });
    }
    
    updateDocumentaryDescriptions() {
        const descriptions = document.querySelectorAll('.documentary-presentation .description');
        descriptions.forEach((desc, index) => {
            if (index === 0) {
                desc.textContent = this.get('documentary.description1');
            } else if (index === 1) {
                desc.textContent = this.get('documentary.description2');
            }
        });
    }
    
    updateExpeditionDescriptions() {
        const descriptions = document.querySelectorAll('.expedition-text .description');
        descriptions.forEach((desc, index) => {
            if (index === 0) {
                desc.textContent = this.get('expedition.description1');
            } else if (index === 1) {
                desc.textContent = this.get('expedition.description2');
            } else if (index === 2) {
                desc.textContent = this.get('expedition.description3');
            }
        });
    }
    
    updateGallery() {
        const slides = document.querySelectorAll('.gallery-slide');
        const images = this.get('gallery.images');
        
        slides.forEach((slide, index) => {
            if (images[index]) {
                const title = slide.querySelector('.image-info h3');
                const description = slide.querySelector('.image-info p');
                const img = slide.querySelector('.gallery-image');
                
                if (title) title.textContent = images[index].title;
                if (description) description.textContent = images[index].description;
                if (img) img.setAttribute('alt', images[index].alt);
            }
        });
    }
    
    updateStats() {
        const statCards = document.querySelectorAll('.stat-card');
        const stats = this.get('science.stats');
        
        statCards.forEach((card, index) => {
            if (stats[index]) {
                const title = card.querySelector('.stat-title');
                const description = card.querySelector('.stat-desc');
                
                if (title) title.textContent = stats[index].title;
                if (description) description.textContent = stats[index].description;
            }
        });
    }
    
    updateImageCaptions() {
        const captions = document.querySelectorAll('.image-caption');
        const images = this.get('science.images');
        
        captions.forEach((caption, index) => {
            if (images[index]) {
                caption.textContent = images[index].caption;
            }
        });
    }
    
    updateResourceCards() {
        const cards = document.querySelectorAll('.resource-card');
        const resources = this.get('resources.cards');
        
        cards.forEach((card, index) => {
            if (resources[index]) {
                const title = card.querySelector('.resource-title');
                const description = card.querySelector('.resource-desc');
                const link = card.querySelector('.resource-link');
                
                if (title) title.textContent = resources[index].title;
                if (description) description.textContent = resources[index].description;
                if (link) {
                    // Garder seulement le texte, pas la flèche
                    const arrow = link.querySelector('span');
                    link.textContent = resources[index].link + ' ';
                    if (arrow) link.appendChild(arrow);
                }
            }
        });
    }
    
    updateCredits() {
        const cols = document.querySelectorAll('.credits-col');
        
        // Première colonne - Production et Scientifique
        if (cols[0]) {
            const productionCategory = cols[0].querySelector('.credits-category');
            if (productionCategory) {
                productionCategory.textContent = this.get('credits.production.title');
            }
            
            const scientificCategories = cols[0].querySelectorAll('.credits-category');
            if (scientificCategories[1]) {
                scientificCategories[1].textContent = this.get('credits.scientific.title');
            }
        }
        
        // Deuxième colonne - Ressources
        if (cols[1]) {
            const resourceCategory = cols[1].querySelector('.credits-category');
            if (resourceCategory) {
                resourceCategory.textContent = this.get('credits.resources.title');
            }
            
            const resourceLinks = cols[1].querySelectorAll('.credits-link');
            const linkTexts = this.get('credits.resources.links');
            
            resourceLinks.forEach((link, index) => {
                if (linkTexts[index]) {
                    const arrow = link.querySelector('span');
                    link.textContent = linkTexts[index] + ' ';
                    if (arrow) link.appendChild(arrow);
                }
            });
        }
    }
}

// Initialisation automatique quand le DOM est prêt
let okavangoTranslator = null;

function initOkavangoTranslator() {
    console.log('=== INITIALISATION SYSTÈME DE TRADUCTION OKAVANGO ===');
    
    // Attendre que les éléments soient disponibles
    const checkElements = () => {
        const translateButton = document.querySelector('.translate-button');
        const translateText = document.querySelector('.translate-current');
        
        if (translateButton && translateText) {
            window.okavangoTranslator = new OkavangoTranslator();
            console.log('Système de traduction Okavango initialisé avec succès');
        } else {
            console.log('Éléments de traduction non trouvés, nouvelle tentative...');
            setTimeout(checkElements, 500);
        }
    };
    
    checkElements();
}

// Export pour utilisation dans main.js
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { initOkavangoTranslator, OkavangoTranslator };
} else {
    window.initOkavangoTranslator = initOkavangoTranslator;
    window.OkavangoTranslator = OkavangoTranslator;
}